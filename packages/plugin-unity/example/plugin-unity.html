<!DOCTYPE html>
<html>

<head>
  <!-- <script src="../dist/lib/index.browser.js"></script> -->
  <script src="https://unpkg.com/jspsych@7.3.0/dist/index.browser.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/jspsych@7.3.0/css/jspsych.css" />
  <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2/dist/index.browser.js"></script>
  <script src="https://unpkg.com/@jspsych/plugin-initialize-camera@1.0.1/dist/index.browser.js"></script>
  <script src="https://unpkg.com/@jspsych/extension-record-video@1.0.1/dist/index.browser.js"></script>
  <script src="../../extension-unity/dist/index.browser.min.js"></script>
  <script src="../dist/index.browser.min.js"></script>
</head>

<body></body>
<script>

  const jsPsych = initJsPsych({
    extensions: [
      {
        type: jsPsychUnityExtension,
        params: {
          loaderUrl: "jsPsychUnityExample.loader.js",
          dataUrl: "jsPsychUnityExample.data",
          frameworkUrl: "jsPsychUnityExample.framework.js",
          codeUrl: "jsPsychUnityExample.wasm",
          width: "960px",
          height: "600px",
          waitEvent: 'JSPsychUnityReadyEvent'
        }
      },
    ],
    on_finish: function () {
      jsPsych.data.displayData('json');
    }
  });

  const welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: () => {
      let html = `<div style="width:100vw; height:100vh; position: relative;">
                Welcome
                </div>`;
      return html;
    },
    choices: "NO_KEYS",
    trial_duration: 3000,
  }


  const trial = {
    type: jsPsychUnityPlugin,
    unity_parameters: {
    },
    extensions: [{ type: jsPsychUnityExtension },
    ],
    trial_duration: 3000,
  }

  jsPsych.run([welcome,  trial]);
</script>

</html>